<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title> Theorem Proving in Lean 4
this document contains my notes when learning lean 4. the main references for this are [4], and [3]
</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (https://tug.org/tex4ht/)"> 
<meta name="originator" content="TeX4ht (https://tug.org/tex4ht/)"> 
<!-- html --> 
<meta name="src" content="main.tex"> 
<link rel="stylesheet" type="text/css" href="main.css"> 
</head><body 
>
<div class="maketitle">
                                                                                               
                                                                                               

<h2 class="titleHead"> Theorem Proving in Lean 4<br />
 this document contains my notes when learning lean 4. the main references for this are [<a 
href="#XLuisWirth">4</a>], and [<a 
href="#XJeremy">3</a>]  </h2>
 <div class="author" ><span 
class="ec-lmss-12">Nguyen Ngoc Khanh</span></div><br />
<div class="date" ><span 
class="ec-lmss-12">May 7, 2025</span></div>
                                                                                               
                                                                                               
</div>
                                                                                               
                                                                                               
<h2 class="likechapterHead"><a 
 id="x1-1000"></a>Contents</h2>
<div class="tableofcontents">
<span class="chapterToc" >0 <a 
href="#x1-20000" id="QQ2-1-2">PREREQUISITES</a></span>
<br /><span class="chapterToc" >1 <a 
href="#x1-30001" id="QQ2-1-3">DEPENDENT TYPE THEORY</a></span>
<br /><span class="chapterToc" >2 <a 
href="#x1-40002" id="QQ2-1-4">PREDICATE LOGIC</a></span>
<br /><span class="sectionToc" >2.1 <a 
href="#x1-50002.1" id="QQ2-1-5">TRUE</a></span>
<br /><span class="sectionToc" >2.2 <a 
href="#x1-60002.2" id="QQ2-1-6">FALSE</a></span>
<br /><span class="sectionToc" >2.3 <a 
href="#x1-70002.3" id="QQ2-1-7">IMPLICATION <span 
class="lmsy-10">&#x2192;</span></a></span>
<br /><span class="sectionToc" >2.4 <a 
href="#x1-80002.4" id="QQ2-1-8">CONJUNCTION <span 
class="lmsy-10">&#x2227;</span></a></span>
<br /><span class="sectionToc" >2.5 <a 
href="#x1-90002.5" id="QQ2-1-9">DISJUNCTION <span 
class="lmsy-10">&#x2228;</span></a></span>
<br /><span class="sectionToc" >2.6 <a 
href="#x1-100002.6" id="QQ2-1-10">NEGATION <span 
class="lmsy-10">¬</span></a></span>
<br /><span class="sectionToc" >2.7 <a 
href="#x1-110002.7" id="QQ2-1-11">UNIVERSAL QUANTIFIER <span 
class="lmsy-10">&#x2200;</span></a></span>
<br /><span class="sectionToc" >2.8 <a 
href="#x1-120002.8" id="QQ2-1-12">EXISTENTIAL QUANTIFIER <span 
class="lmsy-10">&#x2203;</span></a></span>
<br /><span class="chapterToc" >3 <a 
href="#x1-130003" id="QQ2-1-13">INDUCTION THE NATURAL NUMBERS</a></span>
</div>
                                                                                               
                                                                                               
                                                                                               
                                                                                               
<h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;0</span><br /><a 
 id="x1-20000"></a>PREREQUISITES</h2>
<!--l. 3--><p class="noindent" >Before reading this, we assume that readers are familiar with Lean 4 programming basics. It should be sufficient by reading the
first chapter of [<a 
href="#XDavidThraneChristiansen">1</a>]
                                                                                               
                                                                                               
                                                                                               
                                                                                               
                                                                                               
                                                                                               
                                                                                               
                                                                                               
<h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;1</span><br /><a 
 id="x1-30001"></a>DEPENDENT TYPE THEORY</h2>
<!--l. 3--><p class="noindent" >Keywords: <span 
class="ec-lmsso-10">object</span>, <span 
class="ec-lmsso-10">universe level</span>, <span 
class="ec-lmsso-10">universe</span>, <span 
class="ec-lmsso-10">term</span>, <span 
class="ec-lmsso-10">element</span>
<!--l. 5--><p class="noindent" >Consider the set of all formal strings <span 
class="lmmi-10">S </span>and the semantic equivalence relation <span 
class="lmsy-10">~ </span>on <span 
class="lmmi-10">S</span>. For example, <span class="texthl"><span id="textcolor1"><span 
class="lmmi-10">&#x03BB; </span>(x: Nat) =&#x003E; x + 4</span></span> and <span class="texthl"><span id="textcolor2">fun
(y: Nat) =&#x003E; y+4</span></span> are two different strings but have the same meaning/semantic. We will use the same word <span 
class="ec-lmsso-10">object </span>for both
syntactic string and its meaning without confusion.
<!--l. 7--><p class="noindent" >In lean, every object belongs to a <span 
class="ec-lmsso-10">universe level</span>, below are some examples
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 10--><p class="noindent" >universe level -1: proofs
     </li>
     <li class="itemize">
     <!--l. 11--><p class="noindent" >universe level 0: <span class="texthl"><span id="textcolor3">1</span></span>, <span class="texthl"><span id="textcolor4">-2</span></span>, <span class="texthl"><span id="textcolor5">1.5</span></span>, <span class="texthl"><span id="textcolor6">"hello world"</span></span>, <span class="texthl"><span id="textcolor7">true</span></span>, <span class="texthl"><span id="textcolor8"><span 
class="lmmi-10">&#x03BB; </span>(x: Nat) =&#x003E; x + 4</span></span>
     </li>
     <li class="itemize">
     <!--l. 12--><p class="noindent" >universe level 1: <span class="texthl"><span id="textcolor9">Nat</span></span>, <span class="texthl"><span id="textcolor10">Int</span></span>, <span class="texthl"><span id="textcolor11">Float</span></span>, <span class="texthl"><span id="textcolor12">String</span></span>, <span class="texthl"><span id="textcolor13">Bool</span></span>, <span class="texthl"><span id="textcolor14">Nat <span 
class="lmsy-10">&#x2192; </span>Nat</span></span>
     </li>
     <li class="itemize">
     <!--l. 13--><p class="noindent" >universe level 2: <span class="texthl"><span id="textcolor15">Type</span></span> (aka <span class="texthl"><span id="textcolor16">Type 0</span></span>)
     </li>
     <li class="itemize">
     <!--l. 14--><p class="noindent" >universe level 3: <span class="texthl"><span id="textcolor17">Type 1</span></span>
     </li>
     <li class="itemize">
     <!--l. 15--><p class="noindent" >universe level 4: ...</li></ul>
<!--l. 18--><p class="noindent" >Moreover, every object has a type, that is a function <span class="texthl"><span id="textcolor18">t</span></span> that maps object from universe level <span 
class="lmmi-10">n </span>to universe level <span 
class="lmmi-10">n </span><span 
class="rm-lmr-10">+ 1</span>. In
programming, this is called getting type of (<span class="texthl"><span id="textcolor19">type</span></span> in Python, <span class="texthl"><span id="textcolor20">typeof</span></span> in Javascript). For example, <span class="texthl"><span id="textcolor21">t(1) = Nat</span></span>, <span class="texthl"><span id="textcolor22">t(true) = Bool</span></span>, <span class="texthl"><span id="textcolor23">t(<span 
class="lmmi-10">&#x03BB;</span>
(x: Nat) =&#x003E; x + 4) = Nat <span 
class="lmsy-10">&#x2192; </span>Nat</span></span>. Given any object <span class="texthl"><span id="textcolor24"><span 
class="lmmi-10">&#x03B1;</span></span></span> at level <span 
class="lmmi-10">n</span>, the collection of all objects of type <span class="texthl"><span id="textcolor25"><span 
class="lmmi-10">&#x03B1;</span></span></span> is called the <span 
class="ec-lmsso-10">universe </span><span class="texthl"><span id="textcolor26"><span 
class="lmmi-10">&#x03B1;</span></span></span>.
For example, universe <span class="texthl"><span id="textcolor27">Nat</span></span> consists of of all natural numbers. We write <span class="texthl"><span id="textcolor28">x: Nat</span></span> to denote <span class="texthl"><span id="textcolor29">x</span></span> is of type <span class="texthl"><span id="textcolor30">Nat</span></span> and <span class="texthl"><span id="textcolor31">x</span></span> is called a <span 
class="ec-lmsso-10">term </span>(or
<span 
class="ec-lmsso-10">element</span>) of <span class="texthl"><span id="textcolor32">Nat</span></span>
<!--l. 20--><p class="noindent" >In lean, <span 
class="lmmi-10">t </span>is not exposed to user. However, during compilation process, lean allows user to print value and type of an object using
<span class="texthl"><span id="textcolor33">#eval</span></span> and <span class="texthl"><span id="textcolor34">#check</span></span>
<!--l. 22--><p class="noindent" ><span id="textcolor35"><span 
class="ec-lmsso-10">On the side note, if </span><span class="texthl"><span id="textcolor36"><span 
class="lmmi-10">&#x03B1;</span></span></span> <span 
class="ec-lmsso-10">and </span><span class="texthl"><span id="textcolor37"><span 
class="lmmi-10">&#x03B2;</span></span></span> <span 
class="ec-lmsso-10">are two objects at level </span><span 
class="lmmi-10">n </span><span 
class="ec-lmsso-10">and </span><span 
class="lmmi-10">m</span><span 
class="ec-lmsso-10">, then </span><span class="texthl"><span id="textcolor38"><span 
class="lmmi-10">&#x03B1; </span><span 
class="lmsy-10">&#x2192;</span><span 
class="lmmi-10">&#x03B2;</span></span></span> <span 
class="ec-lmsso-10">is at level</span> <span 
class="rm-lmr-10">max</span><span 
class="rm-lmr-10">(</span><span 
class="lmmi-10">n,m</span><span 
class="rm-lmr-10">)</span><span 
class="ec-lmsso-10">. </span><span class="texthl"><span id="textcolor39"><span 
class="lmmi-10">&#x03B1; </span><span 
class="lmsy-10">&#x2192;</span><span 
class="lmmi-10">&#x03B2;</span></span></span> <span 
class="ec-lmsso-10">is analogous to the</span>
<span 
class="ec-lmsso-10">hom-set</span> <span 
class="rm-lmr-10">Hom</span><span 
class="rm-lmr-10">(</span><span 
class="lmmi-10">&#x03B1;,&#x03B2;</span><span 
class="rm-lmr-10">) </span><span 
class="ec-lmsso-10">in mathematics, which is the collection of all morphisms from object </span><span 
class="lmmi-10">&#x03B1; </span><span 
class="ec-lmsso-10">into object </span><span 
class="lmmi-10">&#x03B2; </span><span 
class="ec-lmsso-10">in a certain</span>
<span 
class="ec-lmsso-10">category.</span></span>
                                                                                               
                                                                                               
                                                                                               
                                                                                               
                                                                                               
                                                                                               
                                                                                               
                                                                                               
<h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;2</span><br /><a 
 id="x1-40002"></a>PREDICATE LOGIC</h2>
<!--l. 3--><p class="noindent" >Keywords: <span class="texthl"><span id="textcolor40">Prop</span></span>, CH, <span 
class="ec-lmsso-10">witnessed</span>, <span 
class="ec-lmsso-10">proof</span>, <span 
class="ec-lmsso-10">inhabited</span>, <span 
class="ec-lmsso-10">uninhabited</span>, <span 
class="ec-lmsso-10">introduction rule</span>, <span 
class="ec-lmsso-10">elimination rule</span>
<!--l. 5--><p class="noindent" ><span class="texthl"><span id="textcolor41">Prop</span></span> is an object at level 1 which is the same level with <span class="texthl"><span id="textcolor42">Nat</span></span>. An element (level 0) of universe <span class="texthl"><span id="textcolor43">Prop</span></span> is called a proposition. For
example, <span class="texthl"><span id="textcolor44">True</span></span>, <span class="texthl"><span id="textcolor45">1 + 1 = 3</span></span>, <span class="texthl"><span id="textcolor46">Fermat&#8217;s last theorem</span></span>.
<!--l. 7--><p class="noindent" >Curry&#8211;Howard (CH) [<a 
href="#XCH">2</a>] asserts that proving a proposition <span class="texthl"><span id="textcolor47">p: Prop</span></span> is equivalent to constructing an element <span class="texthl"><span id="textcolor48">x: p</span></span> at level -1. Hence,
a proposition <span class="texthl"><span id="textcolor49">p: Prop</span></span> is said to be true if and only if there exists an element <span class="texthl"><span id="textcolor50">x: p</span></span> at level -1, we say that the truth of <span class="texthl"><span id="textcolor51">p: Prop</span></span> is
<span 
class="ec-lmsso-10">witnessed </span>by <span 
class="ec-lmsso-10">proof  </span><span class="texthl"><span id="textcolor52">x: p</span></span>. We say <span class="texthl"><span id="textcolor53">p: Prop</span></span> is <span 
class="ec-lmsso-10">inhabited </span>if there is a proof for <span class="texthl"><span id="textcolor54">p: Prop</span></span>, <span class="texthl"><span id="textcolor55">p: Prop</span></span> is <span 
class="ec-lmsso-10">uninhabited </span>if there is no proof for
<span class="texthl"><span id="textcolor56">p: Prop</span></span>
<!--l. 9--><p class="noindent" >The type system in lean is powerful enough to model predicate logic, we will describe below the builtin logical connectives and
related <span 
class="ec-lmsso-10">introduction rules </span>and <span 
class="ec-lmsso-10">elimination rules</span>. Given a proposition <span class="texthl"><span id="textcolor57">p: Prop</span></span>, an introduction rule is a way to prove <span class="texthl"><span id="textcolor58">p: Prop</span></span> from
something else, an elimination rule is a way deduce from <span class="texthl"><span id="textcolor59">p: Prop</span></span>
<h3 class="sectionHead"><span class="titlemark">2.1   </span> <a 
 id="x1-50002.1"></a>TRUE</h3>
<!--l. 13--><p class="noindent" ><span class="texthl"><span id="textcolor60">True: Prop</span></span> is a proposition in lean.
<!--l. 15--><p class="noindent" ><span class="texthl"><span id="textcolor61">True</span></span> admits an introduction rule <span class="texthl"><span id="textcolor62">True.intro: True</span></span> or sometimes written as <span class="texthl"><span id="textcolor63">trivial: True</span></span>. <span class="texthl"><span id="textcolor64">True</span></span> admits no elimination rule, that is,
one cannot use <span class="texthl"><span id="textcolor65">True</span></span> to prove anything.
<!--l. 17--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">2.2   </span> <a 
 id="x1-60002.2"></a>FALSE</h3>
<!--l. 19--><p class="noindent" ><span class="texthl"><span id="textcolor66">False: Prop</span></span> is a proposition in lean.
<!--l. 21--><p class="noindent" ><span class="texthl"><span id="textcolor67">False</span></span> admits no introduction rule, that is one cannot prove <span class="texthl"><span id="textcolor68">False</span></span>. <span class="texthl"><span id="textcolor69">False</span></span> admits an elimination rule <span class="texthl"><span id="textcolor70">False.elim: <span 
class="lmsy-10">&#x2200; </span>(q : Prop), False
<span 
class="lmsy-10">&#x2192; </span>q</span></span>, that is, one can prove everything from <span class="texthl"><span id="textcolor71">False</span></span>, given any proposition <span class="texthl"><span id="textcolor72">q: Prop</span></span>, <span class="texthl"><span id="textcolor73">False.elim q</span></span> is a proof for <span class="texthl"><span id="textcolor74">q:
Prop</span></span>
<!--l. 23--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">2.3   </span> <a 
 id="x1-70002.3"></a>IMPLICATION <span 
class="lmsy-10">&#x2192;</span></h3>
<!--l. 25--><p class="noindent" >Given two propositions <span class="texthl"><span id="textcolor75">p: Prop</span></span> and <span class="texthl"><span id="textcolor76">q: Prop</span></span>, <span class="texthl"><span id="textcolor77">f: p <span 
class="lmsy-10">&#x2192; </span>q</span></span> is a map from type <span class="texthl"><span id="textcolor78">p</span></span> into type <span class="texthl"><span id="textcolor79">q</span></span>. Given a proof <span class="texthl"><span id="textcolor80">hp: p</span></span> for <span class="texthl"><span id="textcolor81">p</span></span>,
then one can obtain the proof for <span class="texthl"><span id="textcolor82">q</span></span> by <span class="texthl"><span id="textcolor83">hq: q := f hp</span></span>. This is known as <span 
class="ec-lmsso-10">modus ponens </span>or implication elimination
rule
<!--l. 27--><p class="noindent" ><span class="texthl"><span id="textcolor84">p <span 
class="lmsy-10">&#x2192; </span>q: Prop</span></span> is a proposition in lean.
<!--l. 29--><p class="noindent" ><span class="texthl"><span id="textcolor85">p <span 
class="lmsy-10">&#x2192; </span>q</span></span> admits implication elimination rule as described above and it admits introduction rule by declaring function of type <span class="texthl"><span id="textcolor86">p <span 
class="lmsy-10">&#x2192;</span>
q</span></span>
<!--l. 31--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">2.4   </span> <a 
 id="x1-80002.4"></a>CONJUNCTION <span 
class="lmsy-10">&#x2227;</span></h3>
                                                                                               
                                                                                               
<!--l. 33--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">2.5   </span> <a 
 id="x1-90002.5"></a>DISJUNCTION <span 
class="lmsy-10">&#x2228;</span></h3>
<!--l. 35--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">2.6   </span> <a 
 id="x1-100002.6"></a>NEGATION <span 
class="lmsy-10">¬</span></h3>
<!--l. 37--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">2.7   </span> <a 
 id="x1-110002.7"></a>UNIVERSAL QUANTIFIER <span 
class="lmsy-10">&#x2200;</span></h3>
<!--l. 39--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">2.8   </span> <a 
 id="x1-120002.8"></a>EXISTENTIAL QUANTIFIER <span 
class="lmsy-10">&#x2203;</span></h3>
                                                                                               
                                                                                               
                                                                                               
                                                                                               
                                                                                               
                                                                                               
                                                                                               
                                                                                               
<h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;3</span><br /><a 
 id="x1-130003"></a>INDUCTION <br 
class="newline" />THE NATURAL NUMBERS</h2>
                                                                                               
                                                                                               
                                                                                               
                                                                                               
                                                                                               
                                                                                               
<h2 class="likechapterHead"><a 
 id="x1-14000"></a>Bibliography</h2>
   <div class="thebibliography">
   <p class="bibitem" ><span class="biblabel">
<a 
 id="XDavidThraneChristiansen"></a>[1] <span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span>David&#x00A0;Thrane
   Christiansen.  Functional programming in lean.  <a 
href="https://lean-lang.org/functional_programming_in_lean/" class="url" >https://lean-lang.org/functional_programming_in_lean/</a>, 2025.
   Accessed: May 7, 2025.
   </p>
   <p class="bibitem" ><span class="biblabel">
<a 
 id="XCH"></a>[2] <span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span>Curry-Howard.
   Curry-howard correspondence.  <a 
href="https://en.wikipedia.org/wiki/Curry%E2%80%93Howard_correspondence" class="url" >https://en.wikipedia.org/wiki/Curry%E2%80%93Howard_correspondence</a>, 2025.
   Accessed: May 7, 2025.
   </p>
   <p class="bibitem" ><span class="biblabel">
<a 
 id="XJeremy"></a>[3] <span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span>Soonho&#x00A0;Kong  Jeremy&#x00A0;Avigad,  Leonardo  de&#x00A0;Moura  and  with  contributions  from  the  Lean&#x00A0;Community
   Sebastian&#x00A0;Ullrich. Theorem proving in lean 4. <a 
href="https://lean-lang.org/theorem_proving_in_lean4/" class="url" >https://lean-lang.org/theorem_proving_in_lean4/</a>, 2025. Accessed:
   May 7, 2025.
   </p>
   <p class="bibitem" ><span class="biblabel">
<a 
 id="XLuisWirth"></a>[4] <span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span>Luis Wirth.  Lean4 and the curry-howard isomorphism (luis wirth).  <a 
href="https://youtu.be/Sy_4z751YWI" class="url" >https://youtu.be/Sy_4z751YWI</a>, 2025.
   Accessed: May 7, 2025.
</p>
   </div>
 
</body></html> 

                                                                                               


